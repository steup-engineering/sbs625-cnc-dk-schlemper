# This config file was created 2021-12-17 15:09:08.693031 by the update_ini script
# The original config files may be found in the /home/maho/steup/schlemper/config/sbs750cnc.old directory

# sbs750cnc.ini

[EMC]
# The version string for this INI file.
VERSION = 1.1

MACHINE = sbs750cnc
DEBUG = 0

[DISPLAY]
DISPLAY = axis
#DISPLAY = dummy
CYCLE_TIME = 0.02
EDITOR = gedit
OPEN_FILE = auto.ngc
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
MAX_FEED_OVERRIDE = 2.0
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 5
PROGRAM_PREFIX = /home/linuxcnc/linuxcnc/nc_files
INCREMENTS = 5mm 1mm .5mm .1mm .05mm .01mm .005mm
GEOMETRY = XYZACUVW
MIN_SPINDLE_OVERRIDE = 0.5
MAX_SPINDLE_OVERRIDE = 1.5
#PYVCP = custompanel.xml 
PYVCP = servicepanel.xml

# Ngcgui must precede Ngcguittt
TKPKG = Ngcgui 1.0
NGCGUI_FONT       = Helvetica -10 normal
NGCGUI_PENTRIES   = 24
NGCGUI_SUBFILE    = init.ngc
NGCGUI_SUBFILE    = rect.ngc
NGCGUI_SUBFILE    = multi.ngc
NGCGUI_SUBFILE    = cut.ngc
NGCGUI_SUBFILE    = home.ngc
NGCGUI_OPTIONS    = nonew noremove

[FILTER]
PROGRAM_EXTENSION = .png,.gif,.jpg Greyscale Depth Image
PROGRAM_EXTENSION = .py Python Script
png = image-to-gcode
gif = image-to-gcode
jpg = image-to-gcode
py = python

[RS274NGC]

PARAMETER_FILE = linuxcnc.var

SUBROUTINE_PATH = /home/linuxcnc/linuxcnc/nc_files/lib:/home/linuxcnc/linuxcnc/nc_files/ngcgui_lib
USER_M_PATH = /home/linuxcnc/linuxcnc/nc_files/mfiles

[EMCMOT]

EMCMOT = motmod
COMM_TIMEOUT = 1.0
SERVO_PERIOD = 1000000

[TASK]
TASK = milltask
CYCLE_TIME = 0.010

[HAL]
HALFILE = sbs750cnc.hal
HALFILE = sbs750cnc-aux.hal
HALFILE = sbs750cnc-axis.hal
HALFILE = sbs750cnc-spindle.hal
HALFILE = sbs750cnc-io.hal
#HALFILE = sbs750cnc-toolchange.hal
POSTGUI_HALFILE = sbs750cnc-postgui.hal
HALUI = halui

[HALUI]
MDI_COMMAND = O<home-z> CALL
MDI_COMMAND = O<home-xy> CALL
MDI_COMMAND = O<home-x> CALL
MDI_COMMAND = G53 G0 C0
MDI_COMMAND = G53 G0 C90
MDI_COMMAND = G53 G0 C180
MDI_COMMAND = G53 G0 C-90
MDI_COMMAND = G53 G0 A0
MDI_COMMAND = G53 G0 A30
MDI_COMMAND = G53 G0 A45

MDI_COMMAND = G53 G0 A90
MDI_COMMAND = O<touch-cross-x> CALL
MDI_COMMAND = O<touch-cross-y> CALL
MDI_COMMAND = O<touch-line-x> CALL
MDI_COMMAND = O<touch-line-y> CALL
MDI_COMMAND = G10 L2 P0 X#5341
MDI_COMMAND = G10 L2 P0 Y#5342
MDI_COMMAND = O<matprobe> CALL
MDI_COMMAND = O<touch-line-y-table-x> CALL
MDI_COMMAND = O<toolprobe> CALL [0]

MDI_COMMAND = O<toolprobe> CALL [1]
MDI_COMMAND = O<show-cross> CALL
MDI_COMMAND = O<vac-pod-pick> CALL [-1] [-1]
MDI_COMMAND = O<vac-pod-release> CALL
MDI_COMMAND = O<mancut> CALL [2500] [180] [0] [-3795] [3745] [0]
MDI_COMMAND = O<mancut> CALL [2500] [0] [0] [-3795] [3745] [0]
MDI_COMMAND = O<cam-snapshot> CALL

[TRAJ]

JOINTS = 5
COORDINATES = XYZAC
HOME = 0 0 0 0 0
LINEAR_UNITS = mm
ANGULAR_UNITS = degree
DEFAULT_LINEAR_VELOCITY = 100.00
DEFAULT_LINEAR_ACCELERATION = 200.00
MAX_LINEAR_VELOCITY = 700.00
MAX_ANGULAR_VELOCITY = 50.00
MAX_LINEAR_ACCELERATION = 800.00
NO_FORCE_HOMING = 0

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

[TABLE]
ARMS_YPOS_MIN = -100.0
ARMS_YPOS_MAX = 10.0
ARMS_CPOS_MIN = -70.0
ARMS_CPOS_MAX = 70.0

[LUBE]
#times in minutes
AUTO_TIME = 10
STANDBY_TIME = 120
POWER_ON_PULSES = 2

[SPINDLE]
SCALE = -1.0

SAW_RAMP_UP_TIME = 10
SAW_RAMP_DOWN_TIME = 10
SAW_MAX_RPM = 3000
SAW_COOL_DOWN_MINUTES = 60

MILL_RAMP_UP_TIME = 10
MILL_RAMP_DOWN_TIME = 10
MILL_MAX_RPM = 8000
MILL_MIN_RPM = 0
MILL_COOL_DOWN_MINUTES = 30

WARMUP_STAGE1_RPM = 2500
WARMUP_STAGE1_MINUTES = 5
WARMUP_STAGE2_RPM = 5000
WARMUP_STAGE2_MINUTES = 5
WARMUP_STAGE3_RPM = 7500
WARMUP_STAGE3_MINUTES = 3
WARMUP_STAGE4_RPM = 8500
WARMUP_STAGE4_MINUTES = 2

[KINS]
KINEMATICS = trivkins coordinates=XYZAC
#This is a best-guess at the number of joints, it should be checked
JOINTS = 5

[AXIS_X]
MIN_LIMIT = -5.0
MAX_LIMIT = 3750.01
MAX_VELOCITY = 450.0
MAX_ACCELERATION = 450.0

[JOINT_0]
TYPE = LINEAR
HOME_SEQUENCE = 3
HOME = 0.0
HOME_OFFSET = -10.0
HOME_SEARCH_VEL = -70.0
HOME_LATCH_VEL = 4.0
HOME_FINAL_VEL = 50.0
MAX_VELOCITY = 500.0
MAX_ACCELERATION = 500.0
# Getriebe i=9.25 + i=5, Zahnstange s=9.99264638mm/Zahn, Ritzel n=25 Zähne
# -> SCALE = i/(s*n)
SCALE = -0.185
# Auflösung Encoder 0.005
ENC_SCALE = -200
#FERROR = 1
#MIN_FERROR = .25
FERROR = 10
MIN_FERROR = 2.0
MIN_LIMIT = -5.0
MAX_LIMIT = 3750.01

#P = 8.0
# ritzel zu hoch mai 22
P = 6.5
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.01
MAX_OUTPUT = 600

[AXIS_Y]
MIN_LIMIT = -3965.01
MAX_LIMIT = 5.01
MAX_VELOCITY = 120.0
MAX_ACCELERATION = 100.0

[JOINT_1]
TYPE = LINEAR
HOME_SEQUENCE = 3
HOME = 0.0
HOME_OFFSET = 10.0
#HOME_SEARCH_VEL = 70.0
HOME_SEARCH_VEL = 40.0
HOME_LATCH_VEL = -4.0
HOME_FINAL_VEL = 50.0
MAX_VELOCITY = 130.0
MAX_ACCELERATION = 120.0
#BACKLASH = 0.2
# Getriebe i=14.5 + i=5, Zahnstange s=10mm/Zahn, Ritzel n=22 Zähne
# -> SCALE = i/(s*n)
SCALE = 0.3295454545
# Auflösung Encoder 0.005
ENC_SCALE = 200
#FERROR = 1
#MIN_FERROR = .25
FERROR = 10
MIN_FERROR = 5.0
MIN_LIMIT = -3965.01
MAX_LIMIT = 5.01

P = 10.0
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.01
MAX_OUTPUT = 350

[AXIS_Z]
MIN_LIMIT = -839.01
MAX_LIMIT = 3.0
MAX_VELOCITY = 80.0
MAX_ACCELERATION = 450.0

[JOINT_2]
TYPE = LINEAR
HOME_SEQUENCE = 0
HOME = 0.0
HOME_OFFSET = 5.0
HOME_SEARCH_VEL = 20.0
HOME_LATCH_VEL = -1.0
HOME_FINAL_VEL = 20.0
MAX_VELOCITY = 85.0
MAX_ACCELERATION = 500.0
# Getriebe i=6.755, Spindelsteigung s=10mm
# -> SCALE = i/s
SCALE = -0.675
# Auflösung Encoder 0.005
ENC_SCALE = -200
#FERROR = 1
#MIN_FERROR = .25
FERROR = 10
MIN_FERROR = 2.0
MIN_LIMIT = -839.01
MAX_LIMIT = 3.0

P = 10.0
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.01
MAX_OUTPUT = 100

[AXIS_A]
MIN_LIMIT = -5.1
MAX_LIMIT = 90.1
MAX_VELOCITY = 15.0
MAX_ACCELERATION = 150.0

[JOINT_3]
TYPE = ANGULAR
HOME_SEQUENCE = 1
HOME = 0.0
HOME_OFFSET =2.646
#HOME_SEARCH_VEL = 0.0
#HOME_LATCH_VEL = 0.0
HOME_FINAL_VEL = 5.0
HOME_ABSOLUTE_ENCODER = 1
MAX_VELOCITY = 20.0
MAX_ACCELERATION = 200.0
# Getriebe i=39
# -> SCALE = i/360
SCALE = 0.1083333333333333
#FERROR = 1
#MIN_FERROR = .25
FERROR = 100
MIN_FERROR = 20.0
MIN_LIMIT = -5.1
MAX_LIMIT = 90.1

P = 30.0
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.01
MAX_OUTPUT = 20


[AXIS_C]
MIN_LIMIT = -370.01
MAX_LIMIT = 370.01
MAX_VELOCITY = 20.0
MAX_ACCELERATION = 100.0

[JOINT_4]
TYPE = ANGULAR
HOME_SEQUENCE = 2
HOME = 0.0
MIN_LIMIT = -370.01
MAX_LIMIT = 370.01
HOME_OFFSET = -257.918
#HOME_SEARCH_VEL = 0.0
#HOME_LATCH_VEL = 0.0
HOME_FINAL_VEL = 5.0

HOME_ABSOLUTE_ENCODER = 1
MAX_VELOCITY = 150.0
MAX_ACCELERATION = 30.0

# Getriebe i=276.474
# -> SCALE = i/360
SCALE = 0.767933333
#ENC_SCALE = -211.0
#FERROR = 1
#MIN_FERROR = .25
FERROR = 10
MIN_FERROR = 2.5

P = 30.0
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.005
MAX_OUTPUT = 50

